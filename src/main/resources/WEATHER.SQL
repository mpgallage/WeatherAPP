-- Create tables
CREATE TABLE CITY
(
  ID INT(11) PRIMARY KEY NOT NULL,
  NAME VARCHAR(50),
  COUNTRY_CODE VARCHAR(10)
);
CREATE UNIQUE INDEX CITY_ID_UNQ ON CITY (ID);

CREATE TABLE REPORT
(
  CODE INT(11),
  MESSAGE INT(11),
  CITY_ID INT(11),
  STATUS VARCHAR(20),
  DESCRIPTION VARCHAR(50),
  ICON VARCHAR(10),
  TEMP DOUBLE,
  PRESSURE DOUBLE,
  HUMID DOUBLE,
  WIND_SPEED DOUBLE,
  WIND_ANGLE DOUBLE,
  ID INT(11) PRIMARY KEY NOT NULL,
  REPORT_TIME TIMESTAMP DEFAULT NOW(),
  CONSTRAINT REPORT_FK_CITY FOREIGN KEY (CITY_ID) REFERENCES CITY (ID)
);
CREATE INDEX REPORT_FK_CITY ON REPORT (CITY_ID);
CREATE UNIQUE INDEX REPORT_ID_PK ON REPORT (ID);